--
-- PostgreSQL database dump
--

-- Dumped from database version 11.9 (Debian 11.9-0+deb10u1)
-- Dumped by pg_dump version 11.9 (Debian 11.9-0+deb10u1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

ALTER TABLE ONLY public.users_customuser_user_permissions DROP CONSTRAINT users_customuser_use_permission_id_baaa2f74_fk_auth_perm;
ALTER TABLE ONLY public.users_customuser_user_permissions DROP CONSTRAINT users_customuser_use_customuser_id_5771478b_fk_users_cus;
ALTER TABLE ONLY public.users_customuser_groups DROP CONSTRAINT users_customuser_groups_group_id_01390b14_fk_auth_group_id;
ALTER TABLE ONLY public.users_customuser_groups DROP CONSTRAINT users_customuser_gro_customuser_id_958147bf_fk_users_cus;
ALTER TABLE ONLY public.tour DROP CONSTRAINT tours_transport_id_fkey;
ALTER TABLE ONLY public.tour DROP CONSTRAINT tours_tour_type_id_fkey;
ALTER TABLE ONLY public.tour DROP CONSTRAINT tour_country_id_fkey;
ALTER TABLE ONLY public.tour_city DROP CONSTRAINT tour;
ALTER TABLE ONLY public.staff_tour DROP CONSTRAINT tour;
ALTER TABLE ONLY public.staff_tour DROP CONSTRAINT staff;
ALTER TABLE ONLY public.order_service DROP CONSTRAINT services;
ALTER TABLE ONLY public."order" DROP CONSTRAINT orders_tour_id_fkey;
ALTER TABLE ONLY public."order" DROP CONSTRAINT orders_client_id_fkey;
ALTER TABLE ONLY public.order_service DROP CONSTRAINT "order";
ALTER TABLE ONLY public.hotel DROP CONSTRAINT hotels_city_id_fkey;
ALTER TABLE ONLY public.django_celery_beat_periodictask DROP CONSTRAINT django_celery_beat_p_solar_id_a87ce72c_fk_django_ce;
ALTER TABLE ONLY public.django_celery_beat_periodictask DROP CONSTRAINT django_celery_beat_p_interval_id_a8ca27da_fk_django_ce;
ALTER TABLE ONLY public.django_celery_beat_periodictask DROP CONSTRAINT django_celery_beat_p_crontab_id_d3cba168_fk_django_ce;
ALTER TABLE ONLY public.django_celery_beat_periodictask DROP CONSTRAINT django_celery_beat_p_clocked_id_47a69f82_fk_django_ce;
ALTER TABLE ONLY public.django_admin_log DROP CONSTRAINT django_admin_log_user_id_c564eba6_fk_users_customuser_id;
ALTER TABLE ONLY public.django_admin_log DROP CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co;
ALTER TABLE ONLY public.city DROP CONSTRAINT country;
ALTER TABLE ONLY public.tour_city DROP CONSTRAINT city;
ALTER TABLE ONLY public.auth_permission DROP CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co;
ALTER TABLE ONLY public.auth_group_permissions DROP CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id;
ALTER TABLE ONLY public.auth_group_permissions DROP CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm;
DROP TRIGGER city_id_trigger ON public.city;
DROP INDEX public.users_customuser_user_permissions_permission_id_baaa2f74;
DROP INDEX public.users_customuser_user_permissions_customuser_id_5771478b;
DROP INDEX public.users_customuser_groups_group_id_01390b14;
DROP INDEX public.users_customuser_groups_customuser_id_958147bf;
DROP INDEX public.users_customuser_email_6445acef_like;
DROP INDEX public.django_session_session_key_c0390e0f_like;
DROP INDEX public.django_session_expire_date_a5c62663;
DROP INDEX public.django_celery_beat_periodictask_solar_id_a87ce72c;
DROP INDEX public.django_celery_beat_periodictask_name_265a36b7_like;
DROP INDEX public.django_celery_beat_periodictask_interval_id_a8ca27da;
DROP INDEX public.django_celery_beat_periodictask_crontab_id_d3cba168;
DROP INDEX public.django_celery_beat_periodictask_clocked_id_47a69f82;
DROP INDEX public.django_admin_log_user_id_c564eba6;
DROP INDEX public.django_admin_log_content_type_id_c4bce8eb;
DROP INDEX public.auth_permission_content_type_id_2f476e4b;
DROP INDEX public.auth_group_permissions_permission_id_84c5c92e;
DROP INDEX public.auth_group_permissions_group_id_b120cbf9;
DROP INDEX public.auth_group_name_a6ea08ec_like;
ALTER TABLE ONLY public.users_customuser_user_permissions DROP CONSTRAINT users_customuser_user_permissions_pkey;
ALTER TABLE ONLY public.users_customuser_user_permissions DROP CONSTRAINT users_customuser_user_pe_customuser_id_permission_7a7debf6_uniq;
ALTER TABLE ONLY public.users_customuser DROP CONSTRAINT users_customuser_pkey;
ALTER TABLE ONLY public.users_customuser_groups DROP CONSTRAINT users_customuser_groups_pkey;
ALTER TABLE ONLY public.users_customuser_groups DROP CONSTRAINT users_customuser_groups_customuser_id_group_id_76b619e3_uniq;
ALTER TABLE ONLY public.users_customuser DROP CONSTRAINT users_customuser_email_key;
ALTER TABLE ONLY public.transport DROP CONSTRAINT transports_pkey;
ALTER TABLE ONLY public.transport DROP CONSTRAINT transport_name_key;
ALTER TABLE ONLY public.tour DROP CONSTRAINT tours_pkey;
ALTER TABLE ONLY public.tour_type DROP CONSTRAINT tour_types_pkey;
ALTER TABLE ONLY public.tour_type DROP CONSTRAINT tour_type_name_key;
ALTER TABLE ONLY public.tour_city DROP CONSTRAINT tour_cities_pkey;
ALTER TABLE ONLY public.staff DROP CONSTRAINT staff_pkey;
ALTER TABLE ONLY public.staff DROP CONSTRAINT staff_phone_number_key;
ALTER TABLE ONLY public.additional_service DROP CONSTRAINT services_pkey;
ALTER TABLE ONLY public.order_service DROP CONSTRAINT orders_services_pkey;
ALTER TABLE ONLY public."order" DROP CONSTRAINT orders_pkey;
ALTER TABLE ONLY public.staff_tour DROP CONSTRAINT id;
ALTER TABLE ONLY public.hotel DROP CONSTRAINT hotels_pkey;
ALTER TABLE ONLY public.django_session DROP CONSTRAINT django_session_pkey;
ALTER TABLE ONLY public.django_migrations DROP CONSTRAINT django_migrations_pkey;
ALTER TABLE ONLY public.django_content_type DROP CONSTRAINT django_content_type_pkey;
ALTER TABLE ONLY public.django_content_type DROP CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq;
ALTER TABLE ONLY public.django_celery_beat_solarschedule DROP CONSTRAINT django_celery_beat_solarschedule_pkey;
ALTER TABLE ONLY public.django_celery_beat_solarschedule DROP CONSTRAINT django_celery_beat_solar_event_latitude_longitude_ba64999a_uniq;
ALTER TABLE ONLY public.django_celery_beat_periodictasks DROP CONSTRAINT django_celery_beat_periodictasks_pkey;
ALTER TABLE ONLY public.django_celery_beat_periodictask DROP CONSTRAINT django_celery_beat_periodictask_pkey;
ALTER TABLE ONLY public.django_celery_beat_periodictask DROP CONSTRAINT django_celery_beat_periodictask_name_key;
ALTER TABLE ONLY public.django_celery_beat_intervalschedule DROP CONSTRAINT django_celery_beat_intervalschedule_pkey;
ALTER TABLE ONLY public.django_celery_beat_crontabschedule DROP CONSTRAINT django_celery_beat_crontabschedule_pkey;
ALTER TABLE ONLY public.django_celery_beat_clockedschedule DROP CONSTRAINT django_celery_beat_clockedschedule_pkey;
ALTER TABLE ONLY public.django_admin_log DROP CONSTRAINT django_admin_log_pkey;
ALTER TABLE ONLY public.departure_city DROP CONSTRAINT departure_city_name_key;
ALTER TABLE ONLY public.departure_city DROP CONSTRAINT departure_cities_pkey;
ALTER TABLE ONLY public.country DROP CONSTRAINT country_pkey;
ALTER TABLE ONLY public.client DROP CONSTRAINT clients_pkey;
ALTER TABLE ONLY public.client DROP CONSTRAINT client_phone_number_key;
ALTER TABLE ONLY public.city DROP CONSTRAINT city_name_key;
ALTER TABLE ONLY public.city DROP CONSTRAINT cities_pkey;
ALTER TABLE ONLY public.auth_permission DROP CONSTRAINT auth_permission_pkey;
ALTER TABLE ONLY public.auth_permission DROP CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq;
ALTER TABLE ONLY public.auth_group DROP CONSTRAINT auth_group_pkey;
ALTER TABLE ONLY public.auth_group_permissions DROP CONSTRAINT auth_group_permissions_pkey;
ALTER TABLE ONLY public.auth_group_permissions DROP CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq;
ALTER TABLE ONLY public.auth_group DROP CONSTRAINT auth_group_name_key;
ALTER TABLE public.users_customuser_user_permissions ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.users_customuser_groups ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.users_customuser ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.transport ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.tour_type ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.tour_city ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.tour ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.staff_tour ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.staff ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.order_service ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public."order" ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.hotel ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.django_migrations ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.django_content_type ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.django_celery_beat_solarschedule ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.django_celery_beat_periodictask ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.django_celery_beat_intervalschedule ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.django_celery_beat_crontabschedule ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.django_celery_beat_clockedschedule ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.django_admin_log ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.departure_city ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.country ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.client ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.city ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.auth_permission ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.auth_group_permissions ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.auth_group ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.additional_service ALTER COLUMN id DROP DEFAULT;
DROP SEQUENCE public.users_customuser_user_permissions_id_seq;
DROP TABLE public.users_customuser_user_permissions;
DROP SEQUENCE public.users_customuser_id_seq;
DROP SEQUENCE public.users_customuser_groups_id_seq;
DROP TABLE public.users_customuser_groups;
DROP TABLE public.users_customuser;
DROP SEQUENCE public.transports_id_seq;
DROP SEQUENCE public.tours_id_seq;
DROP SEQUENCE public.tour_types_id_seq;
DROP SEQUENCE public.tour_city_id_seq;
DROP TABLE public.tour_city;
DROP SEQUENCE public.staff_tour_id_seq;
DROP TABLE public.staff_tour;
DROP SEQUENCE public.staff_id_seq;
DROP TABLE public.staff;
DROP VIEW public.sightseeing_tours;
DROP TABLE public.transport;
DROP TABLE public.tour_type;
DROP TABLE public.tour;
DROP SEQUENCE public.services_id_seq;
DROP SEQUENCE public.orders_id_seq;
DROP SEQUENCE public.order_service_id_seq;
DROP TABLE public.order_service;
DROP TABLE public."order";
DROP SEQUENCE public.hotels_id_seq;
DROP VIEW public.five_star_hotels;
DROP TABLE public.hotel;
DROP TABLE public.django_session;
DROP SEQUENCE public.django_migrations_id_seq;
DROP TABLE public.django_migrations;
DROP SEQUENCE public.django_content_type_id_seq;
DROP TABLE public.django_content_type;
DROP SEQUENCE public.django_celery_beat_solarschedule_id_seq;
DROP TABLE public.django_celery_beat_solarschedule;
DROP TABLE public.django_celery_beat_periodictasks;
DROP SEQUENCE public.django_celery_beat_periodictask_id_seq;
DROP TABLE public.django_celery_beat_periodictask;
DROP SEQUENCE public.django_celery_beat_intervalschedule_id_seq;
DROP TABLE public.django_celery_beat_intervalschedule;
DROP SEQUENCE public.django_celery_beat_crontabschedule_id_seq;
DROP TABLE public.django_celery_beat_crontabschedule;
DROP SEQUENCE public.django_celery_beat_clockedschedule_id_seq;
DROP TABLE public.django_celery_beat_clockedschedule;
DROP SEQUENCE public.django_admin_log_id_seq;
DROP TABLE public.django_admin_log;
DROP SEQUENCE public.departure_city_id_seq;
DROP TABLE public.departure_city;
DROP SEQUENCE public.country_id_seq;
DROP TABLE public.country;
DROP SEQUENCE public.clients_id_seq;
DROP TABLE public.client;
DROP SEQUENCE public.cities_id_seq;
DROP TABLE public.city;
DROP SEQUENCE public.auth_permission_id_seq;
DROP TABLE public.auth_permission;
DROP SEQUENCE public.auth_group_permissions_id_seq;
DROP TABLE public.auth_group_permissions;
DROP SEQUENCE public.auth_group_id_seq;
DROP TABLE public.auth_group;
DROP TABLE public.additional_service;
DROP FUNCTION public.tour_creation();
DROP FUNCTION public.get_expensive_tours(integer);
DROP PROCEDURE public.create_tour(_transport_id integer, _tour_type_id integer, departure_date_text character varying, return_date_text character varying, _tour_cost integer, cities integer[]);
DROP PROCEDURE public.create_order(_tour_id integer, _client_fullname character varying, _client_phonenumber character varying, _clearance_date_text character varying);
DROP FUNCTION public.city_generate_id_function();
DROP FUNCTION public.additional_service_generate_id_function();
DROP DOMAIN public."unsigned integer";
DROP DOMAIN public.phone_number;
--
-- Name: phone_number; Type: DOMAIN; Schema: public; Owner: admin
--

CREATE DOMAIN public.phone_number AS character varying(18)
	CONSTRAINT phone CHECK (((VALUE)::text ~~ '+%(%)%'::text));


ALTER DOMAIN public.phone_number OWNER TO admin;

--
-- Name: unsigned integer; Type: DOMAIN; Schema: public; Owner: admin
--

CREATE DOMAIN public."unsigned integer" AS integer
	CONSTRAINT value CHECK ((VALUE > '-1'::integer));


ALTER DOMAIN public."unsigned integer" OWNER TO admin;

--
-- Name: additional_service_generate_id_function(); Type: FUNCTION; Schema: public; Owner: admin
--

CREATE FUNCTION public.additional_service_generate_id_function() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
		begin
			new.id:=nextval('additional_services_id_seq');
			return new;
		end;
	$$;


ALTER FUNCTION public.additional_service_generate_id_function() OWNER TO admin;

--
-- Name: city_generate_id_function(); Type: FUNCTION; Schema: public; Owner: admin
--

CREATE FUNCTION public.city_generate_id_function() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
		begin
			new.id:=nextval('cities_id_seq');
			return new;
		end;
	$$;


ALTER FUNCTION public.city_generate_id_function() OWNER TO admin;

--
-- Name: create_order(integer, character varying, character varying, character varying); Type: PROCEDURE; Schema: public; Owner: postgres
--

CREATE PROCEDURE public.create_order(_tour_id integer, _client_fullname character varying, _client_phonenumber character varying, _clearance_date_text character varying)
    LANGUAGE plpgsql
    AS $$

	
DECLARE 
	_clearance_date timestamptz;
	_client_id integer;
BEGIN
	_clearance_date := TO_TIMESTAMP(_clearance_date_text,'YYYY-MM-DD HH24:MI:SS');
	
	INSERT INTO public.client 
	("full name", phone_number)
	VALUES(_client_fullname, _client_phonenumber) RETURNING id INTO _client_id;

	INSERT INTO public."order"
	(client_id, tour_id, "clearance date")
	VALUES(_client_id, _tour_id, _clearance_date);
END;	
$$;


ALTER PROCEDURE public.create_order(_tour_id integer, _client_fullname character varying, _client_phonenumber character varying, _clearance_date_text character varying) OWNER TO postgres;

--
-- Name: create_tour(integer, integer, character varying, character varying, integer, integer[]); Type: PROCEDURE; Schema: public; Owner: admin
--

CREATE PROCEDURE public.create_tour(_transport_id integer, _tour_type_id integer, departure_date_text character varying, return_date_text character varying, _tour_cost integer, cities integer[])
    LANGUAGE plpgsql
    AS $$

	
DECLARE 
	_departure_date timestamptz;
	_return_date timestamptz;
	_city integer;
	add_tour_id integer;
BEGIN
	_departure_date := TO_TIMESTAMP(departure_date_text,'YYYY-MM-DD HH24:MI:SS');
	_return_date := TO_TIMESTAMP(return_date_text,'YYYY-MM-DD HH24:MI:SS');
	INSERT INTO public.tour
	(transport_id, tour_type_id, departure_date, return_date, tour_cost)
	VALUES(_transport_id, _tour_type_id, _departure_date, _return_date, _tour_cost) RETURNING id INTO add_tour_id;

	
  	FOREACH _city IN ARRAY cities 
  	LOOP
  		INSERT INTO public.tour_city
  			(city_id, tour_id)
  		VALUES(_city, add_tour_id);

  	END LOOP;
END;	
$$;


ALTER PROCEDURE public.create_tour(_transport_id integer, _tour_type_id integer, departure_date_text character varying, return_date_text character varying, _tour_cost integer, cities integer[]) OWNER TO admin;

--
-- Name: get_expensive_tours(integer); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.get_expensive_tours(integer) RETURNS TABLE(transport_name character varying, tour_type_name character varying, _departure_date timestamp with time zone, _return_date timestamp with time zone, _tour_cost integer)
    LANGUAGE sql
    AS $_$
	SELECT transport.name, tour_type.name, tour.departure_date, tour.return_date, tour.tour_cost
	FROM public.transport AS transport, public.tour_type AS tour_type, public.tour AS tour
	WHERE tour.transport_id = transport.id AND tour.tour_type_id = tour_type.id AND
	tour.tour_cost >= $1

$_$;


ALTER FUNCTION public.get_expensive_tours(integer) OWNER TO postgres;

--
-- Name: tour_creation(); Type: FUNCTION; Schema: public; Owner: admin
--

CREATE FUNCTION public.tour_creation() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
	begin 
		if new.tour_cost < 0 then 
			RAISE exception 'Вартість не може мати від''ємне значення';
		end if;
	end;
$$;


ALTER FUNCTION public.tour_creation() OWNER TO admin;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: additional_service; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.additional_service (
    id integer NOT NULL,
    name text[] NOT NULL,
    cost public."unsigned integer" DEFAULT 0 NOT NULL
);


ALTER TABLE public.additional_service OWNER TO admin;

--
-- Name: auth_group; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE public.auth_group OWNER TO admin;

--
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.auth_group_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.auth_group_id_seq OWNER TO admin;

--
-- Name: auth_group_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.auth_group_id_seq OWNED BY public.auth_group.id;


--
-- Name: auth_group_permissions; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.auth_group_permissions (
    id integer NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_group_permissions OWNER TO admin;

--
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.auth_group_permissions_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.auth_group_permissions_id_seq OWNER TO admin;

--
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.auth_group_permissions_id_seq OWNED BY public.auth_group_permissions.id;


--
-- Name: auth_permission; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE public.auth_permission OWNER TO admin;

--
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.auth_permission_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.auth_permission_id_seq OWNER TO admin;

--
-- Name: auth_permission_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.auth_permission_id_seq OWNED BY public.auth_permission.id;


--
-- Name: city; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.city (
    id integer NOT NULL,
    name character varying(40) NOT NULL,
    country_id integer DEFAULT 0 NOT NULL
);


ALTER TABLE public.city OWNER TO admin;

--
-- Name: cities_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.cities_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.cities_id_seq OWNER TO admin;

--
-- Name: cities_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.cities_id_seq OWNED BY public.city.id;


--
-- Name: client; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.client (
    id integer NOT NULL,
    "full name" character varying(60) NOT NULL,
    phone_number public.phone_number NOT NULL
);


ALTER TABLE public.client OWNER TO admin;

--
-- Name: clients_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.clients_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.clients_id_seq OWNER TO admin;

--
-- Name: clients_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.clients_id_seq OWNED BY public.client.id;


--
-- Name: country; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.country (
    id integer NOT NULL,
    name character varying(100) NOT NULL
);


ALTER TABLE public.country OWNER TO admin;

--
-- Name: country_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.country_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.country_id_seq OWNER TO admin;

--
-- Name: country_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.country_id_seq OWNED BY public.country.id;


--
-- Name: departure_city; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.departure_city (
    id integer NOT NULL,
    name character varying(40) NOT NULL
);


ALTER TABLE public.departure_city OWNER TO admin;

--
-- Name: departure_city_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.departure_city_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.departure_city_id_seq OWNER TO admin;

--
-- Name: departure_city_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.departure_city_id_seq OWNED BY public.departure_city.id;


--
-- Name: django_admin_log; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id integer NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE public.django_admin_log OWNER TO admin;

--
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.django_admin_log_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.django_admin_log_id_seq OWNER TO admin;

--
-- Name: django_admin_log_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.django_admin_log_id_seq OWNED BY public.django_admin_log.id;


--
-- Name: django_celery_beat_clockedschedule; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_celery_beat_clockedschedule (
    id integer NOT NULL,
    clocked_time timestamp with time zone NOT NULL
);


ALTER TABLE public.django_celery_beat_clockedschedule OWNER TO admin;

--
-- Name: django_celery_beat_clockedschedule_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.django_celery_beat_clockedschedule_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.django_celery_beat_clockedschedule_id_seq OWNER TO admin;

--
-- Name: django_celery_beat_clockedschedule_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.django_celery_beat_clockedschedule_id_seq OWNED BY public.django_celery_beat_clockedschedule.id;


--
-- Name: django_celery_beat_crontabschedule; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_celery_beat_crontabschedule (
    id integer NOT NULL,
    minute character varying(240) NOT NULL,
    hour character varying(96) NOT NULL,
    day_of_week character varying(64) NOT NULL,
    day_of_month character varying(124) NOT NULL,
    month_of_year character varying(64) NOT NULL,
    timezone character varying(63) NOT NULL
);


ALTER TABLE public.django_celery_beat_crontabschedule OWNER TO admin;

--
-- Name: django_celery_beat_crontabschedule_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.django_celery_beat_crontabschedule_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.django_celery_beat_crontabschedule_id_seq OWNER TO admin;

--
-- Name: django_celery_beat_crontabschedule_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.django_celery_beat_crontabschedule_id_seq OWNED BY public.django_celery_beat_crontabschedule.id;


--
-- Name: django_celery_beat_intervalschedule; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_celery_beat_intervalschedule (
    id integer NOT NULL,
    every integer NOT NULL,
    period character varying(24) NOT NULL
);


ALTER TABLE public.django_celery_beat_intervalschedule OWNER TO admin;

--
-- Name: django_celery_beat_intervalschedule_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.django_celery_beat_intervalschedule_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.django_celery_beat_intervalschedule_id_seq OWNER TO admin;

--
-- Name: django_celery_beat_intervalschedule_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.django_celery_beat_intervalschedule_id_seq OWNED BY public.django_celery_beat_intervalschedule.id;


--
-- Name: django_celery_beat_periodictask; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_celery_beat_periodictask (
    id integer NOT NULL,
    name character varying(200) NOT NULL,
    task character varying(200) NOT NULL,
    args text NOT NULL,
    kwargs text NOT NULL,
    queue character varying(200),
    exchange character varying(200),
    routing_key character varying(200),
    expires timestamp with time zone,
    enabled boolean NOT NULL,
    last_run_at timestamp with time zone,
    total_run_count integer NOT NULL,
    date_changed timestamp with time zone NOT NULL,
    description text NOT NULL,
    crontab_id integer,
    interval_id integer,
    solar_id integer,
    one_off boolean NOT NULL,
    start_time timestamp with time zone,
    priority integer,
    headers text NOT NULL,
    clocked_id integer,
    expire_seconds integer,
    CONSTRAINT django_celery_beat_periodictask_expire_seconds_check CHECK ((expire_seconds >= 0)),
    CONSTRAINT django_celery_beat_periodictask_priority_check CHECK ((priority >= 0)),
    CONSTRAINT django_celery_beat_periodictask_total_run_count_check CHECK ((total_run_count >= 0))
);


ALTER TABLE public.django_celery_beat_periodictask OWNER TO admin;

--
-- Name: django_celery_beat_periodictask_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.django_celery_beat_periodictask_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.django_celery_beat_periodictask_id_seq OWNER TO admin;

--
-- Name: django_celery_beat_periodictask_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.django_celery_beat_periodictask_id_seq OWNED BY public.django_celery_beat_periodictask.id;


--
-- Name: django_celery_beat_periodictasks; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_celery_beat_periodictasks (
    ident smallint NOT NULL,
    last_update timestamp with time zone NOT NULL
);


ALTER TABLE public.django_celery_beat_periodictasks OWNER TO admin;

--
-- Name: django_celery_beat_solarschedule; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_celery_beat_solarschedule (
    id integer NOT NULL,
    event character varying(24) NOT NULL,
    latitude numeric(9,6) NOT NULL,
    longitude numeric(9,6) NOT NULL
);


ALTER TABLE public.django_celery_beat_solarschedule OWNER TO admin;

--
-- Name: django_celery_beat_solarschedule_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.django_celery_beat_solarschedule_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.django_celery_beat_solarschedule_id_seq OWNER TO admin;

--
-- Name: django_celery_beat_solarschedule_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.django_celery_beat_solarschedule_id_seq OWNED BY public.django_celery_beat_solarschedule.id;


--
-- Name: django_content_type; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE public.django_content_type OWNER TO admin;

--
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.django_content_type_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.django_content_type_id_seq OWNER TO admin;

--
-- Name: django_content_type_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.django_content_type_id_seq OWNED BY public.django_content_type.id;


--
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_migrations (
    id integer NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO admin;

--
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.django_migrations_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.django_migrations_id_seq OWNER TO admin;

--
-- Name: django_migrations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.django_migrations_id_seq OWNED BY public.django_migrations.id;


--
-- Name: django_session; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE public.django_session OWNER TO admin;

--
-- Name: hotel; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.hotel (
    id integer NOT NULL,
    name character varying(100) NOT NULL,
    city_id integer,
    stars integer NOT NULL
);


ALTER TABLE public.hotel OWNER TO admin;

--
-- Name: five_star_hotels; Type: VIEW; Schema: public; Owner: admin
--

CREATE VIEW public.five_star_hotels AS
 SELECT hotel.name,
    city.name AS city_name
   FROM public.hotel hotel,
    public.city city
  WHERE ((hotel.city_id = city.id) AND (hotel.stars = 5));


ALTER TABLE public.five_star_hotels OWNER TO admin;

--
-- Name: hotels_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.hotels_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.hotels_id_seq OWNER TO admin;

--
-- Name: hotels_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.hotels_id_seq OWNED BY public.hotel.id;


--
-- Name: order; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public."order" (
    id integer NOT NULL,
    client_id integer NOT NULL,
    tour_id integer NOT NULL,
    "clearance date" date NOT NULL
);


ALTER TABLE public."order" OWNER TO admin;

--
-- Name: order_service; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.order_service (
    id integer NOT NULL,
    order_id integer NOT NULL,
    service_id integer NOT NULL
);


ALTER TABLE public.order_service OWNER TO admin;

--
-- Name: order_service_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.order_service_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.order_service_id_seq OWNER TO admin;

--
-- Name: order_service_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.order_service_id_seq OWNED BY public.order_service.id;


--
-- Name: orders_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.orders_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.orders_id_seq OWNER TO admin;

--
-- Name: orders_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.orders_id_seq OWNED BY public."order".id;


--
-- Name: services_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.services_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.services_id_seq OWNER TO admin;

--
-- Name: services_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.services_id_seq OWNED BY public.additional_service.id;


--
-- Name: tour; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.tour (
    id integer NOT NULL,
    transport_id integer,
    tour_type_id integer NOT NULL,
    departure_date timestamp(3) with time zone NOT NULL,
    return_date timestamp(3) with time zone NOT NULL,
    tour_cost public."unsigned integer" NOT NULL,
    country_id integer
);


ALTER TABLE public.tour OWNER TO admin;

--
-- Name: tour_type; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.tour_type (
    id integer NOT NULL,
    name character varying(40) NOT NULL
);


ALTER TABLE public.tour_type OWNER TO admin;

--
-- Name: transport; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.transport (
    id integer NOT NULL,
    name character varying(40) NOT NULL
);


ALTER TABLE public.transport OWNER TO admin;

--
-- Name: sightseeing_tours; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.sightseeing_tours AS
 SELECT transport.name,
    tour.departure_date,
    tour.return_date,
    tour.tour_cost
   FROM public.tour tour,
    public.transport transport,
    public.tour_type tour_type
  WHERE ((tour.transport_id = transport.id) AND (tour.tour_type_id = tour_type.id) AND ((tour_type.name)::text = 'екскурсійний'::text));


ALTER TABLE public.sightseeing_tours OWNER TO postgres;

--
-- Name: staff; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.staff (
    id integer NOT NULL,
    full_name character varying(120) NOT NULL,
    birthday_date date NOT NULL,
    salary public."unsigned integer" NOT NULL,
    "position" character varying(30),
    phone_number public.phone_number NOT NULL
);


ALTER TABLE public.staff OWNER TO admin;

--
-- Name: staff_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.staff_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.staff_id_seq OWNER TO admin;

--
-- Name: staff_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.staff_id_seq OWNED BY public.staff.id;


--
-- Name: staff_tour; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.staff_tour (
    staff_id integer NOT NULL,
    tour_id integer NOT NULL,
    id integer NOT NULL
);


ALTER TABLE public.staff_tour OWNER TO admin;

--
-- Name: staff_tour_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.staff_tour_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.staff_tour_id_seq OWNER TO admin;

--
-- Name: staff_tour_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.staff_tour_id_seq OWNED BY public.staff_tour.id;


--
-- Name: tour_city; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.tour_city (
    id integer NOT NULL,
    tour_id integer NOT NULL,
    city_id integer NOT NULL
);


ALTER TABLE public.tour_city OWNER TO admin;

--
-- Name: tour_city_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.tour_city_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tour_city_id_seq OWNER TO admin;

--
-- Name: tour_city_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.tour_city_id_seq OWNED BY public.tour_city.id;


--
-- Name: tour_types_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.tour_types_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tour_types_id_seq OWNER TO admin;

--
-- Name: tour_types_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.tour_types_id_seq OWNED BY public.tour_type.id;


--
-- Name: tours_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.tours_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tours_id_seq OWNER TO admin;

--
-- Name: tours_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.tours_id_seq OWNED BY public.tour.id;


--
-- Name: transports_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.transports_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.transports_id_seq OWNER TO admin;

--
-- Name: transports_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.transports_id_seq OWNED BY public.transport.id;


--
-- Name: users_customuser; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users_customuser (
    id integer NOT NULL,
    password character varying(128) NOT NULL,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    first_name character varying(150) NOT NULL,
    last_name character varying(150) NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    date_joined timestamp with time zone NOT NULL,
    email character varying(254) NOT NULL
);


ALTER TABLE public.users_customuser OWNER TO admin;

--
-- Name: users_customuser_groups; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users_customuser_groups (
    id integer NOT NULL,
    customuser_id integer NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public.users_customuser_groups OWNER TO admin;

--
-- Name: users_customuser_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.users_customuser_groups_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_customuser_groups_id_seq OWNER TO admin;

--
-- Name: users_customuser_groups_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.users_customuser_groups_id_seq OWNED BY public.users_customuser_groups.id;


--
-- Name: users_customuser_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.users_customuser_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_customuser_id_seq OWNER TO admin;

--
-- Name: users_customuser_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.users_customuser_id_seq OWNED BY public.users_customuser.id;


--
-- Name: users_customuser_user_permissions; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users_customuser_user_permissions (
    id integer NOT NULL,
    customuser_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.users_customuser_user_permissions OWNER TO admin;

--
-- Name: users_customuser_user_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.users_customuser_user_permissions_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_customuser_user_permissions_id_seq OWNER TO admin;

--
-- Name: users_customuser_user_permissions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.users_customuser_user_permissions_id_seq OWNED BY public.users_customuser_user_permissions.id;


--
-- Name: additional_service id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.additional_service ALTER COLUMN id SET DEFAULT nextval('public.services_id_seq'::regclass);


--
-- Name: auth_group id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_group ALTER COLUMN id SET DEFAULT nextval('public.auth_group_id_seq'::regclass);


--
-- Name: auth_group_permissions id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_group_permissions ALTER COLUMN id SET DEFAULT nextval('public.auth_group_permissions_id_seq'::regclass);


--
-- Name: auth_permission id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_permission ALTER COLUMN id SET DEFAULT nextval('public.auth_permission_id_seq'::regclass);


--
-- Name: city id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.city ALTER COLUMN id SET DEFAULT nextval('public.cities_id_seq'::regclass);


--
-- Name: client id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.client ALTER COLUMN id SET DEFAULT nextval('public.clients_id_seq'::regclass);


--
-- Name: country id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.country ALTER COLUMN id SET DEFAULT nextval('public.country_id_seq'::regclass);


--
-- Name: departure_city id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.departure_city ALTER COLUMN id SET DEFAULT nextval('public.departure_city_id_seq'::regclass);


--
-- Name: django_admin_log id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_admin_log ALTER COLUMN id SET DEFAULT nextval('public.django_admin_log_id_seq'::regclass);


--
-- Name: django_celery_beat_clockedschedule id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_clockedschedule ALTER COLUMN id SET DEFAULT nextval('public.django_celery_beat_clockedschedule_id_seq'::regclass);


--
-- Name: django_celery_beat_crontabschedule id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_crontabschedule ALTER COLUMN id SET DEFAULT nextval('public.django_celery_beat_crontabschedule_id_seq'::regclass);


--
-- Name: django_celery_beat_intervalschedule id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_intervalschedule ALTER COLUMN id SET DEFAULT nextval('public.django_celery_beat_intervalschedule_id_seq'::regclass);


--
-- Name: django_celery_beat_periodictask id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_periodictask ALTER COLUMN id SET DEFAULT nextval('public.django_celery_beat_periodictask_id_seq'::regclass);


--
-- Name: django_celery_beat_solarschedule id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_solarschedule ALTER COLUMN id SET DEFAULT nextval('public.django_celery_beat_solarschedule_id_seq'::regclass);


--
-- Name: django_content_type id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_content_type ALTER COLUMN id SET DEFAULT nextval('public.django_content_type_id_seq'::regclass);


--
-- Name: django_migrations id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_migrations ALTER COLUMN id SET DEFAULT nextval('public.django_migrations_id_seq'::regclass);


--
-- Name: hotel id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.hotel ALTER COLUMN id SET DEFAULT nextval('public.hotels_id_seq'::regclass);


--
-- Name: order id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."order" ALTER COLUMN id SET DEFAULT nextval('public.orders_id_seq'::regclass);


--
-- Name: order_service id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.order_service ALTER COLUMN id SET DEFAULT nextval('public.order_service_id_seq'::regclass);


--
-- Name: staff id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.staff ALTER COLUMN id SET DEFAULT nextval('public.staff_id_seq'::regclass);


--
-- Name: staff_tour id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.staff_tour ALTER COLUMN id SET DEFAULT nextval('public.staff_tour_id_seq'::regclass);


--
-- Name: tour id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour ALTER COLUMN id SET DEFAULT nextval('public.tours_id_seq'::regclass);


--
-- Name: tour_city id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour_city ALTER COLUMN id SET DEFAULT nextval('public.tour_city_id_seq'::regclass);


--
-- Name: tour_type id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour_type ALTER COLUMN id SET DEFAULT nextval('public.tour_types_id_seq'::regclass);


--
-- Name: transport id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.transport ALTER COLUMN id SET DEFAULT nextval('public.transports_id_seq'::regclass);


--
-- Name: users_customuser id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser ALTER COLUMN id SET DEFAULT nextval('public.users_customuser_id_seq'::regclass);


--
-- Name: users_customuser_groups id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_groups ALTER COLUMN id SET DEFAULT nextval('public.users_customuser_groups_id_seq'::regclass);


--
-- Name: users_customuser_user_permissions id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_user_permissions ALTER COLUMN id SET DEFAULT nextval('public.users_customuser_user_permissions_id_seq'::regclass);


--
-- Data for Name: additional_service; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.additional_service (id, name, cost) FROM stdin;
1	{}	0
2	{Кипяток}	0
3	{Чай,Кофе,Булочка}	0
4	{Напиток,Шаурма}	150
\.


--
-- Data for Name: auth_group; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.auth_group (id, name) FROM stdin;
\.


--
-- Data for Name: auth_group_permissions; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.auth_group_permissions (id, group_id, permission_id) FROM stdin;
\.


--
-- Data for Name: auth_permission; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.auth_permission (id, name, content_type_id, codename) FROM stdin;
1	Can add log entry	1	add_logentry
2	Can change log entry	1	change_logentry
3	Can delete log entry	1	delete_logentry
4	Can view log entry	1	view_logentry
5	Can add permission	2	add_permission
6	Can change permission	2	change_permission
7	Can delete permission	2	delete_permission
8	Can view permission	2	view_permission
9	Can add group	3	add_group
10	Can change group	3	change_group
11	Can delete group	3	delete_group
12	Can view group	3	view_group
13	Can add content type	4	add_contenttype
14	Can change content type	4	change_contenttype
15	Can delete content type	4	delete_contenttype
16	Can view content type	4	view_contenttype
17	Can add session	5	add_session
18	Can change session	5	change_session
19	Can delete session	5	delete_session
20	Can view session	5	view_session
21	Can add user	6	add_customuser
22	Can change user	6	change_customuser
23	Can delete user	6	delete_customuser
24	Can view user	6	view_customuser
25	Can add additional service	7	add_additionalservice
26	Can change additional service	7	change_additionalservice
27	Can delete additional service	7	delete_additionalservice
28	Can view additional service	7	view_additionalservice
29	Can add city	8	add_city
30	Can change city	8	change_city
31	Can delete city	8	delete_city
32	Can view city	8	view_city
33	Can add client	9	add_client
34	Can change client	9	change_client
35	Can delete client	9	delete_client
36	Can view client	9	view_client
37	Can add country	10	add_country
38	Can change country	10	change_country
39	Can delete country	10	delete_country
40	Can view country	10	view_country
41	Can add hotel	11	add_hotel
42	Can change hotel	11	change_hotel
43	Can delete hotel	11	delete_hotel
44	Can view hotel	11	view_hotel
45	Can add order	12	add_order
46	Can change order	12	change_order
47	Can delete order	12	delete_order
48	Can view order	12	view_order
49	Can add order service	13	add_orderservice
50	Can change order service	13	change_orderservice
51	Can delete order service	13	delete_orderservice
52	Can view order service	13	view_orderservice
53	Can add staff	14	add_staff
54	Can change staff	14	change_staff
55	Can delete staff	14	delete_staff
56	Can view staff	14	view_staff
57	Can add staff tour	15	add_stafftour
58	Can change staff tour	15	change_stafftour
59	Can delete staff tour	15	delete_stafftour
60	Can view staff tour	15	view_stafftour
61	Can add tour	16	add_tour
62	Can change tour	16	change_tour
63	Can delete tour	16	delete_tour
64	Can view tour	16	view_tour
65	Can add tour type	17	add_tourtype
66	Can change tour type	17	change_tourtype
67	Can delete tour type	17	delete_tourtype
68	Can view tour type	17	view_tourtype
69	Can add transport	18	add_transport
70	Can change transport	18	change_transport
71	Can delete transport	18	delete_transport
72	Can view transport	18	view_transport
73	Can add auth group	19	add_authgroup
74	Can change auth group	19	change_authgroup
75	Can delete auth group	19	delete_authgroup
76	Can view auth group	19	view_authgroup
77	Can add auth group permissions	20	add_authgrouppermissions
78	Can change auth group permissions	20	change_authgrouppermissions
79	Can delete auth group permissions	20	delete_authgrouppermissions
80	Can view auth group permissions	20	view_authgrouppermissions
81	Can add auth permission	21	add_authpermission
82	Can change auth permission	21	change_authpermission
83	Can delete auth permission	21	delete_authpermission
84	Can view auth permission	21	view_authpermission
85	Can add departure city	22	add_departurecity
86	Can change departure city	22	change_departurecity
87	Can delete departure city	22	delete_departurecity
88	Can view departure city	22	view_departurecity
89	Can add django admin log	23	add_djangoadminlog
90	Can change django admin log	23	change_djangoadminlog
91	Can delete django admin log	23	delete_djangoadminlog
92	Can view django admin log	23	view_djangoadminlog
93	Can add django content type	24	add_djangocontenttype
94	Can change django content type	24	change_djangocontenttype
95	Can delete django content type	24	delete_djangocontenttype
96	Can view django content type	24	view_djangocontenttype
97	Can add django migrations	25	add_djangomigrations
98	Can change django migrations	25	change_djangomigrations
99	Can delete django migrations	25	delete_djangomigrations
100	Can view django migrations	25	view_djangomigrations
101	Can add django session	26	add_djangosession
102	Can change django session	26	change_djangosession
103	Can delete django session	26	delete_djangosession
104	Can view django session	26	view_djangosession
105	Can add tour city	27	add_tourcity
106	Can change tour city	27	change_tourcity
107	Can delete tour city	27	delete_tourcity
108	Can view tour city	27	view_tourcity
109	Can add users customuser	28	add_userscustomuser
110	Can change users customuser	28	change_userscustomuser
111	Can delete users customuser	28	delete_userscustomuser
112	Can view users customuser	28	view_userscustomuser
113	Can add users customuser groups	29	add_userscustomusergroups
114	Can change users customuser groups	29	change_userscustomusergroups
115	Can delete users customuser groups	29	delete_userscustomusergroups
116	Can view users customuser groups	29	view_userscustomusergroups
117	Can add users customuser user permissions	30	add_userscustomuseruserpermissions
118	Can change users customuser user permissions	30	change_userscustomuseruserpermissions
119	Can delete users customuser user permissions	30	delete_userscustomuseruserpermissions
120	Can view users customuser user permissions	30	view_userscustomuseruserpermissions
121	Can add crontab	31	add_crontabschedule
122	Can change crontab	31	change_crontabschedule
123	Can delete crontab	31	delete_crontabschedule
124	Can view crontab	31	view_crontabschedule
125	Can add interval	32	add_intervalschedule
126	Can change interval	32	change_intervalschedule
127	Can delete interval	32	delete_intervalschedule
128	Can view interval	32	view_intervalschedule
129	Can add periodic task	33	add_periodictask
130	Can change periodic task	33	change_periodictask
131	Can delete periodic task	33	delete_periodictask
132	Can view periodic task	33	view_periodictask
133	Can add periodic tasks	34	add_periodictasks
134	Can change periodic tasks	34	change_periodictasks
135	Can delete periodic tasks	34	delete_periodictasks
136	Can view periodic tasks	34	view_periodictasks
137	Can add solar event	35	add_solarschedule
138	Can change solar event	35	change_solarschedule
139	Can delete solar event	35	delete_solarschedule
140	Can view solar event	35	view_solarschedule
141	Can add clocked	36	add_clockedschedule
142	Can change clocked	36	change_clockedschedule
143	Can delete clocked	36	delete_clockedschedule
144	Can view clocked	36	view_clockedschedule
\.


--
-- Data for Name: city; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.city (id, name, country_id) FROM stdin;
1	Odesa	0
2	Kiev	0
3	Стамбул	0
4	Берлин	0
5	Париж	0
\.


--
-- Data for Name: client; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.client (id, "full name", phone_number) FROM stdin;
1	Василий	+38(097)6545632
2	Пётр	+38(095)3452353
3	Іванов Іван Іванович	+38(093) 135-0239
4	іфвфівфівфів	+38(097) 654-5632
5	Тестувальник Тестер Тестович	+38(099)232-34-23
6	Іванов Іван Іванович	+38(093)423-23-23
\.


--
-- Data for Name: country; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.country (id, name) FROM stdin;
\.


--
-- Data for Name: departure_city; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.departure_city (id, name) FROM stdin;
\.


--
-- Data for Name: django_admin_log; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_admin_log (id, action_time, object_id, object_repr, action_flag, change_message, content_type_id, user_id) FROM stdin;
16	2020-11-10 09:42:41.867877+02	15	Deleted “Changed “5 {"Бутылка semen на столе"}” — Змінені Name та Cost..”	3		1	1
17	2020-11-10 09:42:41.875885+02	14	Deleted “Deleted “5 ['Бутылка semen на столе'].”.”	3		1	1
18	2020-11-10 09:42:41.876887+02	13	Deleted “Added “7 {"в левой руке - ♂semen♂, в правой руке - ♂bucks♂"}”..”	3		1	1
19	2020-11-10 09:42:41.878887+02	12	Deleted “Deleted “7 ['в левой руке - ♂semen♂, в правой руке - ♂bucks♂'].”.”	3		1	1
20	2020-11-10 09:42:41.881892+02	11	Deleted “Deleted “6 [].”.”	3		1	1
21	2020-11-10 09:42:41.90604+02	6	Added “6 {}”.	3		1	1
22	2020-11-10 09:42:41.90804+02	4	Added “5 {}”.	3		1	1
23	2020-11-10 09:42:41.910042+02	3	Changed “4 {"Напиток", "Шаурма"}” — Змінені Name та Cost.	3		1	1
24	2020-11-10 09:42:41.912046+02	2	Changed “250” — Змінені Name та Cost.	3		1	1
25	2020-11-10 09:42:41.914047+02	1	Added “AdditionalService object (4)”.	3		1	1
\.


--
-- Data for Name: django_celery_beat_clockedschedule; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_celery_beat_clockedschedule (id, clocked_time) FROM stdin;
\.


--
-- Data for Name: django_celery_beat_crontabschedule; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_celery_beat_crontabschedule (id, minute, hour, day_of_week, day_of_month, month_of_year, timezone) FROM stdin;
\.


--
-- Data for Name: django_celery_beat_intervalschedule; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_celery_beat_intervalschedule (id, every, period) FROM stdin;
\.


--
-- Data for Name: django_celery_beat_periodictask; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_celery_beat_periodictask (id, name, task, args, kwargs, queue, exchange, routing_key, expires, enabled, last_run_at, total_run_count, date_changed, description, crontab_id, interval_id, solar_id, one_off, start_time, priority, headers, clocked_id, expire_seconds) FROM stdin;
\.


--
-- Data for Name: django_celery_beat_periodictasks; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_celery_beat_periodictasks (ident, last_update) FROM stdin;
\.


--
-- Data for Name: django_celery_beat_solarschedule; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_celery_beat_solarschedule (id, event, latitude, longitude) FROM stdin;
\.


--
-- Data for Name: django_content_type; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_content_type (id, app_label, model) FROM stdin;
1	admin	logentry
2	auth	permission
3	auth	group
4	contenttypes	contenttype
5	sessions	session
6	users	customuser
7	agency	additionalservice
8	agency	city
9	agency	client
10	agency	country
11	agency	hotel
12	agency	order
13	agency	orderservice
14	agency	staff
15	agency	stafftour
16	agency	tour
17	agency	tourtype
18	agency	transport
19	agency	authgroup
20	agency	authgrouppermissions
21	agency	authpermission
22	agency	departurecity
23	agency	djangoadminlog
24	agency	djangocontenttype
25	agency	djangomigrations
26	agency	djangosession
27	agency	tourcity
28	agency	userscustomuser
29	agency	userscustomusergroups
30	agency	userscustomuseruserpermissions
31	django_celery_beat	crontabschedule
32	django_celery_beat	intervalschedule
33	django_celery_beat	periodictask
34	django_celery_beat	periodictasks
35	django_celery_beat	solarschedule
36	django_celery_beat	clockedschedule
\.


--
-- Data for Name: django_migrations; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_migrations (id, app, name, applied) FROM stdin;
1	contenttypes	0001_initial	2020-11-05 08:31:40.747986+02
2	contenttypes	0002_remove_content_type_name	2020-11-05 08:31:40.787013+02
3	auth	0001_initial	2020-11-05 08:31:40.835048+02
4	auth	0002_alter_permission_name_max_length	2020-11-05 08:31:40.885083+02
5	auth	0003_alter_user_email_max_length	2020-11-05 08:31:40.896107+02
6	auth	0004_alter_user_username_opts	2020-11-05 08:31:40.908099+02
7	auth	0005_alter_user_last_login_null	2020-11-05 08:31:40.924111+02
8	auth	0006_require_contenttypes_0002	2020-11-05 08:31:40.928114+02
9	auth	0007_alter_validators_add_error_messages	2020-11-05 08:31:40.943128+02
10	auth	0008_alter_user_username_max_length	2020-11-05 08:31:40.960137+02
11	auth	0009_alter_user_last_name_max_length	2020-11-05 08:31:40.974146+02
12	auth	0010_alter_group_name_max_length	2020-11-05 08:31:40.991161+02
13	auth	0011_update_proxy_permissions	2020-11-05 08:31:41.014177+02
14	auth	0012_alter_user_first_name_max_length	2020-11-05 08:31:41.027184+02
15	users	0001_initial	2020-11-05 08:31:41.076252+02
16	admin	0001_initial	2020-11-05 08:31:41.142289+02
17	admin	0002_logentry_remove_auto_add	2020-11-05 08:31:41.174312+02
18	admin	0003_logentry_add_action_flag_choices	2020-11-05 08:31:41.210526+02
19	sessions	0001_initial	2020-11-05 08:31:41.232636+02
20	django_celery_beat	0001_initial	2020-11-10 23:29:04.173381+02
21	django_celery_beat	0002_auto_20161118_0346	2020-11-10 23:29:04.305739+02
22	django_celery_beat	0003_auto_20161209_0049	2020-11-10 23:29:04.3368+02
23	django_celery_beat	0004_auto_20170221_0000	2020-11-10 23:29:04.346807+02
24	django_celery_beat	0005_add_solarschedule_events_choices	2020-11-10 23:29:04.356821+02
25	django_celery_beat	0006_auto_20180322_0932	2020-11-10 23:29:04.40685+02
26	django_celery_beat	0007_auto_20180521_0826	2020-11-10 23:29:04.429866+02
27	django_celery_beat	0008_auto_20180914_1922	2020-11-10 23:29:04.465894+02
28	django_celery_beat	0006_auto_20180210_1226	2020-11-10 23:29:04.488944+02
29	django_celery_beat	0006_periodictask_priority	2020-11-10 23:29:04.501957+02
30	django_celery_beat	0009_periodictask_headers	2020-11-10 23:29:04.533992+02
31	django_celery_beat	0010_auto_20190429_0326	2020-11-10 23:29:04.792225+02
32	django_celery_beat	0011_auto_20190508_0153	2020-11-10 23:29:04.815233+02
33	django_celery_beat	0012_periodictask_expire_seconds	2020-11-10 23:29:04.83426+02
34	django_celery_beat	0013_auto_20200609_0727	2020-11-10 23:29:04.847271+02
35	django_celery_beat	0014_remove_clockedschedule_enabled	2020-11-10 23:29:04.861266+02
\.


--
-- Data for Name: django_session; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.django_session (session_key, session_data, expire_date) FROM stdin;
g79alrc2jc7isampatqy492skipnv3b1	.eJxVjDsOwjAQRO_iGlnr-E9JnzNYXq9NAsiW4qRC3J1ESgHVSPPezJuFuK1T2HpewkzsygS7_HYY0zPXA9Aj1nvjqdV1mZEfCj9p52Oj_Lqd7t_BFPu0r9EZkCUVlwEURhi8L05bZaU1iCQIldDG2z3BKEI5kEBBoLMXYPXAPl_XYDc4:1kc4XE:P4BIKR15-J_H_ivVXaMmCNmQmybwnOhzcQFfKSpsnao	2020-11-23 12:36:28.11777+02
\.


--
-- Data for Name: hotel; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.hotel (id, name, city_id, stars) FROM stdin;
1	hotel	1	3
2	Dosso Dossi Hotels & Spa Downtown	3	5
3	Hilton Berlin	4	5
4	Hôtel Beauchamps	5	4
\.


--
-- Data for Name: order; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public."order" (id, client_id, tour_id, "clearance date") FROM stdin;
1	1	54	2020-04-19
2	3	54	2020-05-27
3	4	55	2020-05-20
4	1	54	2020-05-14
5	5	65	2020-06-13
6	6	64	2020-06-03
\.


--
-- Data for Name: order_service; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.order_service (id, order_id, service_id) FROM stdin;
\.


--
-- Data for Name: staff; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.staff (id, full_name, birthday_date, salary, "position", phone_number) FROM stdin;
5	Мошко Андрій Вікторович	2000-07-30	12000	-	+38(093)1350238
\.


--
-- Data for Name: staff_tour; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.staff_tour (staff_id, tour_id, id) FROM stdin;
5	55	1
\.


--
-- Data for Name: tour; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.tour (id, transport_id, tour_type_id, departure_date, return_date, tour_cost, country_id) FROM stdin;
54	1	1	2020-05-28 19:00:00+03	2020-05-30 13:05:00+03	3000	\N
55	1	1	2020-05-23 19:00:00+03	2020-05-30 14:53:00+03	3500	\N
56	1	1	2020-05-30 12:17:33+03	2020-06-10 12:17:36+03	3000	\N
57	1	1	2020-05-22 13:00:06+03	2020-05-30 13:00:08+03	3000	\N
60	1	1	2020-05-27 16:53:02+03	2020-05-28 16:53:06+03	0	\N
61	1	1	0001-01-01 00:22:15+02:02:04 BC	0001-01-01 00:22:15+02:02:04 BC	3000	\N
62	1	1	0001-01-01 00:22:15+02:02:04 BC	0001-01-01 00:22:15+02:02:04 BC	123	\N
64	2	3	2020-06-04 11:16:30+03	2020-06-06 11:16:30+03	2099	\N
65	4	4	2020-07-04 11:22:53+03	2020-08-04 11:22:53+03	10000	\N
66	2	3	2020-11-10 00:12:19+02	2020-11-16 00:12:19+02	10	\N
\.


--
-- Data for Name: tour_city; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.tour_city (id, tour_id, city_id) FROM stdin;
1	66	3
2	66	4
\.


--
-- Data for Name: tour_type; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.tour_type (id, name) FROM stdin;
1	екскурсійний
2	екстремальні
3	екотур
4	круїз
5	освітній
\.


--
-- Data for Name: transport; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.transport (id, name) FROM stdin;
1	літак
2	поїзд
3	автобус
4	човен
\.


--
-- Data for Name: users_customuser; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.users_customuser (id, password, last_login, is_superuser, first_name, last_name, is_staff, is_active, date_joined, email) FROM stdin;
1	pbkdf2_sha256$216000$91c4LCN4PEJY$zVQh69fkFld6MDjhHHKX5BXZB77C36TIJ4Z6XvLEGdA=	2020-11-09 12:36:28.111779+02	t			t	t	2020-11-09 12:35:50.643477+02	pro100takvoin@gmail.com
\.


--
-- Data for Name: users_customuser_groups; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.users_customuser_groups (id, customuser_id, group_id) FROM stdin;
\.


--
-- Data for Name: users_customuser_user_permissions; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.users_customuser_user_permissions (id, customuser_id, permission_id) FROM stdin;
\.


--
-- Name: auth_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.auth_group_id_seq', 1, false);


--
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.auth_group_permissions_id_seq', 1, false);


--
-- Name: auth_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.auth_permission_id_seq', 144, true);


--
-- Name: cities_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.cities_id_seq', 5, true);


--
-- Name: clients_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.clients_id_seq', 6, true);


--
-- Name: country_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.country_id_seq', 1, false);


--
-- Name: departure_city_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.departure_city_id_seq', 1, false);


--
-- Name: django_admin_log_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.django_admin_log_id_seq', 25, true);


--
-- Name: django_celery_beat_clockedschedule_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.django_celery_beat_clockedschedule_id_seq', 1, false);


--
-- Name: django_celery_beat_crontabschedule_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.django_celery_beat_crontabschedule_id_seq', 1, false);


--
-- Name: django_celery_beat_intervalschedule_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.django_celery_beat_intervalschedule_id_seq', 1, false);


--
-- Name: django_celery_beat_periodictask_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.django_celery_beat_periodictask_id_seq', 1, false);


--
-- Name: django_celery_beat_solarschedule_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.django_celery_beat_solarschedule_id_seq', 1, false);


--
-- Name: django_content_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.django_content_type_id_seq', 36, true);


--
-- Name: django_migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.django_migrations_id_seq', 35, true);


--
-- Name: hotels_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.hotels_id_seq', 4, true);


--
-- Name: order_service_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.order_service_id_seq', 1, false);


--
-- Name: orders_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.orders_id_seq', 6, true);


--
-- Name: services_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.services_id_seq', 7, true);


--
-- Name: staff_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.staff_id_seq', 5, true);


--
-- Name: staff_tour_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.staff_tour_id_seq', 1, true);


--
-- Name: tour_city_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.tour_city_id_seq', 2, true);


--
-- Name: tour_types_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.tour_types_id_seq', 5, true);


--
-- Name: tours_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.tours_id_seq', 66, true);


--
-- Name: transports_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.transports_id_seq', 4, true);


--
-- Name: users_customuser_groups_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.users_customuser_groups_id_seq', 1, false);


--
-- Name: users_customuser_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.users_customuser_id_seq', 1, true);


--
-- Name: users_customuser_user_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.users_customuser_user_permissions_id_seq', 1, false);


--
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- Name: city cities_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.city
    ADD CONSTRAINT cities_pkey PRIMARY KEY (id);


--
-- Name: city city_name_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.city
    ADD CONSTRAINT city_name_key UNIQUE (name);


--
-- Name: client client_phone_number_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.client
    ADD CONSTRAINT client_phone_number_key UNIQUE (phone_number);


--
-- Name: client clients_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.client
    ADD CONSTRAINT clients_pkey PRIMARY KEY (id);


--
-- Name: country country_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.country
    ADD CONSTRAINT country_pkey PRIMARY KEY (id);


--
-- Name: departure_city departure_cities_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.departure_city
    ADD CONSTRAINT departure_cities_pkey PRIMARY KEY (id);


--
-- Name: departure_city departure_city_name_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.departure_city
    ADD CONSTRAINT departure_city_name_key UNIQUE (name);


--
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- Name: django_celery_beat_clockedschedule django_celery_beat_clockedschedule_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_clockedschedule
    ADD CONSTRAINT django_celery_beat_clockedschedule_pkey PRIMARY KEY (id);


--
-- Name: django_celery_beat_crontabschedule django_celery_beat_crontabschedule_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_crontabschedule
    ADD CONSTRAINT django_celery_beat_crontabschedule_pkey PRIMARY KEY (id);


--
-- Name: django_celery_beat_intervalschedule django_celery_beat_intervalschedule_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_intervalschedule
    ADD CONSTRAINT django_celery_beat_intervalschedule_pkey PRIMARY KEY (id);


--
-- Name: django_celery_beat_periodictask django_celery_beat_periodictask_name_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_periodictask
    ADD CONSTRAINT django_celery_beat_periodictask_name_key UNIQUE (name);


--
-- Name: django_celery_beat_periodictask django_celery_beat_periodictask_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_periodictask
    ADD CONSTRAINT django_celery_beat_periodictask_pkey PRIMARY KEY (id);


--
-- Name: django_celery_beat_periodictasks django_celery_beat_periodictasks_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_periodictasks
    ADD CONSTRAINT django_celery_beat_periodictasks_pkey PRIMARY KEY (ident);


--
-- Name: django_celery_beat_solarschedule django_celery_beat_solar_event_latitude_longitude_ba64999a_uniq; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_solarschedule
    ADD CONSTRAINT django_celery_beat_solar_event_latitude_longitude_ba64999a_uniq UNIQUE (event, latitude, longitude);


--
-- Name: django_celery_beat_solarschedule django_celery_beat_solarschedule_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_solarschedule
    ADD CONSTRAINT django_celery_beat_solarschedule_pkey PRIMARY KEY (id);


--
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- Name: hotel hotels_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.hotel
    ADD CONSTRAINT hotels_pkey PRIMARY KEY (id);


--
-- Name: staff_tour id; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.staff_tour
    ADD CONSTRAINT id PRIMARY KEY (id);


--
-- Name: order orders_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- Name: order_service orders_services_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.order_service
    ADD CONSTRAINT orders_services_pkey PRIMARY KEY (id);


--
-- Name: additional_service services_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.additional_service
    ADD CONSTRAINT services_pkey PRIMARY KEY (id);


--
-- Name: staff staff_phone_number_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.staff
    ADD CONSTRAINT staff_phone_number_key UNIQUE (phone_number);


--
-- Name: staff staff_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.staff
    ADD CONSTRAINT staff_pkey PRIMARY KEY (id);


--
-- Name: tour_city tour_cities_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour_city
    ADD CONSTRAINT tour_cities_pkey PRIMARY KEY (id);


--
-- Name: tour_type tour_type_name_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour_type
    ADD CONSTRAINT tour_type_name_key UNIQUE (name);


--
-- Name: tour_type tour_types_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour_type
    ADD CONSTRAINT tour_types_pkey PRIMARY KEY (id);


--
-- Name: tour tours_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour
    ADD CONSTRAINT tours_pkey PRIMARY KEY (id);


--
-- Name: transport transport_name_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.transport
    ADD CONSTRAINT transport_name_key UNIQUE (name);


--
-- Name: transport transports_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.transport
    ADD CONSTRAINT transports_pkey PRIMARY KEY (id);


--
-- Name: users_customuser users_customuser_email_key; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser
    ADD CONSTRAINT users_customuser_email_key UNIQUE (email);


--
-- Name: users_customuser_groups users_customuser_groups_customuser_id_group_id_76b619e3_uniq; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_groups
    ADD CONSTRAINT users_customuser_groups_customuser_id_group_id_76b619e3_uniq UNIQUE (customuser_id, group_id);


--
-- Name: users_customuser_groups users_customuser_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_groups
    ADD CONSTRAINT users_customuser_groups_pkey PRIMARY KEY (id);


--
-- Name: users_customuser users_customuser_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser
    ADD CONSTRAINT users_customuser_pkey PRIMARY KEY (id);


--
-- Name: users_customuser_user_permissions users_customuser_user_pe_customuser_id_permission_7a7debf6_uniq; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_user_permissions
    ADD CONSTRAINT users_customuser_user_pe_customuser_id_permission_7a7debf6_uniq UNIQUE (customuser_id, permission_id);


--
-- Name: users_customuser_user_permissions users_customuser_user_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_user_permissions
    ADD CONSTRAINT users_customuser_user_permissions_pkey PRIMARY KEY (id);


--
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX auth_group_name_a6ea08ec_like ON public.auth_group USING btree (name varchar_pattern_ops);


--
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON public.auth_group_permissions USING btree (group_id);


--
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON public.auth_group_permissions USING btree (permission_id);


--
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON public.auth_permission USING btree (content_type_id);


--
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON public.django_admin_log USING btree (content_type_id);


--
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON public.django_admin_log USING btree (user_id);


--
-- Name: django_celery_beat_periodictask_clocked_id_47a69f82; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_celery_beat_periodictask_clocked_id_47a69f82 ON public.django_celery_beat_periodictask USING btree (clocked_id);


--
-- Name: django_celery_beat_periodictask_crontab_id_d3cba168; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_celery_beat_periodictask_crontab_id_d3cba168 ON public.django_celery_beat_periodictask USING btree (crontab_id);


--
-- Name: django_celery_beat_periodictask_interval_id_a8ca27da; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_celery_beat_periodictask_interval_id_a8ca27da ON public.django_celery_beat_periodictask USING btree (interval_id);


--
-- Name: django_celery_beat_periodictask_name_265a36b7_like; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_celery_beat_periodictask_name_265a36b7_like ON public.django_celery_beat_periodictask USING btree (name varchar_pattern_ops);


--
-- Name: django_celery_beat_periodictask_solar_id_a87ce72c; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_celery_beat_periodictask_solar_id_a87ce72c ON public.django_celery_beat_periodictask USING btree (solar_id);


--
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_session_expire_date_a5c62663 ON public.django_session USING btree (expire_date);


--
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX django_session_session_key_c0390e0f_like ON public.django_session USING btree (session_key varchar_pattern_ops);


--
-- Name: users_customuser_email_6445acef_like; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX users_customuser_email_6445acef_like ON public.users_customuser USING btree (email varchar_pattern_ops);


--
-- Name: users_customuser_groups_customuser_id_958147bf; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX users_customuser_groups_customuser_id_958147bf ON public.users_customuser_groups USING btree (customuser_id);


--
-- Name: users_customuser_groups_group_id_01390b14; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX users_customuser_groups_group_id_01390b14 ON public.users_customuser_groups USING btree (group_id);


--
-- Name: users_customuser_user_permissions_customuser_id_5771478b; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX users_customuser_user_permissions_customuser_id_5771478b ON public.users_customuser_user_permissions USING btree (customuser_id);


--
-- Name: users_customuser_user_permissions_permission_id_baaa2f74; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX users_customuser_user_permissions_permission_id_baaa2f74 ON public.users_customuser_user_permissions USING btree (permission_id);


--
-- Name: city city_id_trigger; Type: TRIGGER; Schema: public; Owner: admin
--

CREATE TRIGGER city_id_trigger BEFORE INSERT ON public.city FOR EACH ROW EXECUTE PROCEDURE public.city_generate_id_function();


--
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: tour_city city; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour_city
    ADD CONSTRAINT city FOREIGN KEY (city_id) REFERENCES public.city(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: city country; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.city
    ADD CONSTRAINT country FOREIGN KEY (country_id) REFERENCES public.country(id) NOT VALID;


--
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_admin_log django_admin_log_user_id_c564eba6_fk_users_customuser_id; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_users_customuser_id FOREIGN KEY (user_id) REFERENCES public.users_customuser(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_celery_beat_periodictask django_celery_beat_p_clocked_id_47a69f82_fk_django_ce; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_periodictask
    ADD CONSTRAINT django_celery_beat_p_clocked_id_47a69f82_fk_django_ce FOREIGN KEY (clocked_id) REFERENCES public.django_celery_beat_clockedschedule(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_celery_beat_periodictask django_celery_beat_p_crontab_id_d3cba168_fk_django_ce; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_periodictask
    ADD CONSTRAINT django_celery_beat_p_crontab_id_d3cba168_fk_django_ce FOREIGN KEY (crontab_id) REFERENCES public.django_celery_beat_crontabschedule(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_celery_beat_periodictask django_celery_beat_p_interval_id_a8ca27da_fk_django_ce; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_periodictask
    ADD CONSTRAINT django_celery_beat_p_interval_id_a8ca27da_fk_django_ce FOREIGN KEY (interval_id) REFERENCES public.django_celery_beat_intervalschedule(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_celery_beat_periodictask django_celery_beat_p_solar_id_a87ce72c_fk_django_ce; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.django_celery_beat_periodictask
    ADD CONSTRAINT django_celery_beat_p_solar_id_a87ce72c_fk_django_ce FOREIGN KEY (solar_id) REFERENCES public.django_celery_beat_solarschedule(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: hotel hotels_city_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.hotel
    ADD CONSTRAINT hotels_city_id_fkey FOREIGN KEY (city_id) REFERENCES public.city(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- Name: order_service order; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.order_service
    ADD CONSTRAINT "order" FOREIGN KEY (order_id) REFERENCES public."order"(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: order orders_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT orders_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.client(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: order orders_tour_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."order"
    ADD CONSTRAINT orders_tour_id_fkey FOREIGN KEY (tour_id) REFERENCES public.tour(id) ON UPDATE CASCADE ON DELETE CASCADE NOT VALID;


--
-- Name: order_service services; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.order_service
    ADD CONSTRAINT services FOREIGN KEY (service_id) REFERENCES public.additional_service(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: staff_tour staff; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.staff_tour
    ADD CONSTRAINT staff FOREIGN KEY (staff_id) REFERENCES public.staff(id) NOT VALID;


--
-- Name: staff_tour tour; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.staff_tour
    ADD CONSTRAINT tour FOREIGN KEY (tour_id) REFERENCES public.tour(id) NOT VALID;


--
-- Name: tour_city tour; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour_city
    ADD CONSTRAINT tour FOREIGN KEY (tour_id) REFERENCES public.tour(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: tour tour_country_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour
    ADD CONSTRAINT tour_country_id_fkey FOREIGN KEY (country_id) REFERENCES public.country(id);


--
-- Name: tour tours_tour_type_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour
    ADD CONSTRAINT tours_tour_type_id_fkey FOREIGN KEY (tour_type_id) REFERENCES public.tour_type(id) ON DELETE SET NULL NOT VALID;


--
-- Name: tour tours_transport_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tour
    ADD CONSTRAINT tours_transport_id_fkey FOREIGN KEY (transport_id) REFERENCES public.transport(id) ON DELETE SET NULL NOT VALID;


--
-- Name: users_customuser_groups users_customuser_gro_customuser_id_958147bf_fk_users_cus; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_groups
    ADD CONSTRAINT users_customuser_gro_customuser_id_958147bf_fk_users_cus FOREIGN KEY (customuser_id) REFERENCES public.users_customuser(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: users_customuser_groups users_customuser_groups_group_id_01390b14_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_groups
    ADD CONSTRAINT users_customuser_groups_group_id_01390b14_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: users_customuser_user_permissions users_customuser_use_customuser_id_5771478b_fk_users_cus; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_user_permissions
    ADD CONSTRAINT users_customuser_use_customuser_id_5771478b_fk_users_cus FOREIGN KEY (customuser_id) REFERENCES public.users_customuser(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: users_customuser_user_permissions users_customuser_use_permission_id_baaa2f74_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_customuser_user_permissions
    ADD CONSTRAINT users_customuser_use_permission_id_baaa2f74_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- PostgreSQL database dump complete
--

